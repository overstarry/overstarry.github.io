<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
    <title>Overstarry Site - crawler</title>
    <subtitle>overstarry site</subtitle>
    <link rel="self" type="application/atom+xml" href="https://jasminides.com/tags/crawler/atom.xml"/>
    <link rel="alternate" type="text/html" href="https://jasminides.com"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2024-06-29T15:19:30+08:00</updated>
    <id>https://jasminides.com/tags/crawler/atom.xml</id>
    <entry xml:lang="en">
        <title>katana 新一代的爬虫工具</title>
        <published>2024-06-29T15:19:30+08:00</published>
        <updated>2024-06-29T15:19:30+08:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://jasminides.com/posts/katana/"/>
        <id>https://jasminides.com/posts/katana/</id>
        
        <content type="html" xml:base="https://jasminides.com/posts/katana/">&lt;h2 id=&quot;katana-jie-shao&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#katana-jie-shao&quot; aria-label=&quot;Anchor link for: katana-jie-shao&quot;&gt;#&lt;&#x2F;a&gt;katana 介绍&lt;&#x2F;h2&gt;
&lt;p&gt;katana是一款强大的新一代的网络爬虫工具，通过使用 katana ，用户能够快速的进行互联网资源的爬取和渗透测试阶段的收集任务。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;te-dian&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#te-dian&quot; aria-label=&quot;Anchor link for: te-dian&quot;&gt;#&lt;&#x2F;a&gt;特点&lt;&#x2F;h3&gt;
&lt;p&gt;katana 有以下特点:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;快速及高可配置的网络爬虫&lt;&#x2F;li&gt;
&lt;li&gt;标准及无头模式&lt;&#x2F;li&gt;
&lt;li&gt;主动和被动模式&lt;&#x2F;li&gt;
&lt;li&gt;JavaScript 脚本爬取解析&lt;&#x2F;li&gt;
&lt;li&gt;定制的表单内容自动填充&lt;&#x2F;li&gt;
&lt;li&gt;爬取范围控制&lt;&#x2F;li&gt;
&lt;li&gt;可自定义设置输出字段&lt;&#x2F;li&gt;
&lt;li&gt;输入数据 支持标准输入(STDIN)，URL和列表(LIST)&lt;&#x2F;li&gt;
&lt;li&gt;输出数据 支持STDOUT、文件和JSON格式&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;an-zhuang&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#an-zhuang&quot; aria-label=&quot;Anchor link for: an-zhuang&quot;&gt;#&lt;&#x2F;a&gt;安装&lt;&#x2F;h2&gt;
&lt;p&gt;接下来介绍如何安装 katana&lt;&#x2F;p&gt;
&lt;p&gt;katana 的安装需要 go1.18版本以上，可以执行以下命令或下载Github 仓库的发布版本。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;shell&quot; class=&quot;language-shell z-code&quot;&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go install github.com&#x2F;projectdiscovery&#x2F;katana&#x2F;cmd&#x2F;katana@latest
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;windows 在安装中可能会遇到以下报错:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;text&quot; class=&quot;language-text z-code&quot;&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;github.com&#x2F;smacker&#x2F;go-tree-sitter&#x2F;javascript: build constraints exclude all Go files in C:\Users\overstarry\go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\javascript
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;# github.com&#x2F;smacker&#x2F;go-tree-sitter
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\iter.go:17:18: undefined: Node
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\iter.go:21:21: undefined: Node
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\iter.go:25:20: undefined: Node
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\iter.go:30:26: undefined: Node
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\iter.go:34:20: undefined: Node
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\iter.go:38:32: undefined: Node
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\iter.go:43:9: undefined: Node
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\iter.go:46:18: undefined: Node
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go\pkg\mod\github.com\smacker\go-tree-sitter@v0.0.0-20230720070738-0d0a9f78d8f8\iter.go:68:40: undefined: Node
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;可以使用以下命令解决:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;shell&quot; class=&quot;language-shell z-code&quot;&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;choco install zig
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;set CGO_ENABLED=1&amp;amp;set GOOS=windows&amp;amp;set GOARCH=amd64&amp;amp;set CC=zig cc&amp;amp;set CXX=zig c++
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;go install github.com&#x2F;projectdiscovery&#x2F;katana&#x2F;cmd&#x2F;katana@latest
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;docker-an-zhuang&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#docker-an-zhuang&quot; aria-label=&quot;Anchor link for: docker-an-zhuang&quot;&gt;#&lt;&#x2F;a&gt;Docker 安装&lt;&#x2F;h3&gt;
&lt;p&gt;katana 还支持 Docker 进行使用，执行以下命令:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;shell&quot; class=&quot;language-shell z-code&quot;&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;docker pull projectdiscovery&#x2F;katana:latest
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;docker run projectdiscovery&#x2F;katana:latest -u https:&#x2F;&#x2F;tesla.com
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;shi-yong&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#shi-yong&quot; aria-label=&quot;Anchor link for: shi-yong&quot;&gt;#&lt;&#x2F;a&gt;使用&lt;&#x2F;h2&gt;
&lt;p&gt;接下来的使用环境会以 Docker 环境为主。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;pa-qu-duo-ge-url&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#pa-qu-duo-ge-url&quot; aria-label=&quot;Anchor link for: pa-qu-duo-ge-url&quot;&gt;#&lt;&#x2F;a&gt;爬取多个 url&lt;&#x2F;h3&gt;
&lt;p&gt;使用 -u 参数，可以爬取指定网站的数据,可以看到 overstarry.vip 的网站链接都显示了。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;docker run projectdiscovery&#x2F;katana:latest -u https:&#x2F;&#x2F;overstarry.vip&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;&#x2F;img&#x2F;katana&#x2F;image.png&quot; alt=&quot;alt text&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;如果想要一次获取多个网站的数据，直接添加多个URL即可，多个URL之间以逗号分隔。&lt;&#x2F;p&gt;
&lt;p&gt;需要注意的是，爬取 url 时，会将当前url上的所有链接都会获取下来，包括超链接。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;pa-qu-mo-shi&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#pa-qu-mo-shi&quot; aria-label=&quot;Anchor link for: pa-qu-mo-shi&quot;&gt;#&lt;&#x2F;a&gt;爬取模式&lt;&#x2F;h3&gt;
&lt;p&gt;1 标准&lt;&#x2F;p&gt;
&lt;p&gt;标准模式使用 go 原生 http 进行数据采集，采集速度会更快，但不会处理 Javascript 和 Dom 渲染，不适合用于一些有复杂动态渲染的网站，&lt;&#x2F;p&gt;
&lt;p&gt;2 无头浏览器模式&lt;&#x2F;p&gt;
&lt;p&gt;无头模式使用无头浏览器，在浏览器上下文进行数据的获取，有以下优点:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;Http 指纹合法&lt;&#x2F;li&gt;
&lt;li&gt;可以处理更复杂的一些网站&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;pa-qu-fan-wei&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#pa-qu-fan-wei&quot; aria-label=&quot;Anchor link for: pa-qu-fan-wei&quot;&gt;#&lt;&#x2F;a&gt;爬取范围&lt;&#x2F;h3&gt;
&lt;p&gt;如果没有限定爬取范围，katana 爬取可能会是无止境的，所有一般需要限定爬取的数据范围。&lt;&#x2F;p&gt;
&lt;h4 id=&quot;field-scope&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#field-scope&quot; aria-label=&quot;Anchor link for: field-scope&quot;&gt;#&lt;&#x2F;a&gt;-field-scope&lt;&#x2F;h4&gt;
&lt;p&gt;有三个选项:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;&#x2F;blockquote&gt;
&lt;pre class=&quot;z-code&quot;&gt;&lt;code&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;* rdn 爬取根域名及所有子域名(默认)
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;* fqdn 限定爬取的子域名
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;* dn 爬取的范围为指定关键字域名
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;crawl-scope&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#crawl-scope&quot; aria-label=&quot;Anchor link for: crawl-scope&quot;&gt;#&lt;&#x2F;a&gt;-crawl-scope&lt;&#x2F;h4&gt;
&lt;h4 id=&quot;crawl-out-scope&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#crawl-out-scope&quot; aria-label=&quot;Anchor link for: crawl-out-scope&quot;&gt;#&lt;&#x2F;a&gt;-crawl-out-scope&lt;&#x2F;h4&gt;
&lt;p&gt;定义不爬取的内容范围，支持正则表达式&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-ta&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#qi-ta&quot; aria-label=&quot;Anchor link for: qi-ta&quot;&gt;#&lt;&#x2F;a&gt;其它&lt;&#x2F;h3&gt;
&lt;p&gt;除了这些参数，katana还支持很多其它参数，感兴趣的读者可以自行研究&lt;&#x2F;p&gt;
&lt;h3 id=&quot;katana-ku&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#katana-ku&quot; aria-label=&quot;Anchor link for: katana-ku&quot;&gt;#&lt;&#x2F;a&gt;katana 库&lt;&#x2F;h3&gt;
&lt;p&gt;除了 cli 使用外，katana还支持在代码中进行使用。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;can-kao&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#can-kao&quot; aria-label=&quot;Anchor link for: can-kao&quot;&gt;#&lt;&#x2F;a&gt;参考&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;https:&#x2F;&#x2F;github.com&#x2F;projectdiscovery&#x2F;katana&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;github.com&#x2F;projectdiscovery&#x2F;katana&#x2F;issues&#x2F;866&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;github.com&#x2F;projectdiscovery&#x2F;katana&#x2F;issues&#x2F;624#issuecomment-1764007669&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
        
    </entry>
</feed>
